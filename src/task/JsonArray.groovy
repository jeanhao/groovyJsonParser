package task;

/**
 * json数组工具类，主要实现的功能有：json格式字符<-->json数组<-->connection/array
 * @author 曾豪
 *
 */
public class JsonArray{
	def   jsonList //底层数据存储结构
	 /**
	  * 构造函数，若不传参数，默认初始一个
	  */
	def JsonArray( jsonList = null){
		this.jsonList = jsonList == null ? [] :jsonList
	}
	/**
	 * 根据索引返回值
	 * @param index
	 * @return
	 */
	def get(index){
		return jsonList[index];
	}
	/**
	 * 往数组添加一个值
	 * @param value
	 * @return
	 */
	def add(value){
		jsonList << value
	}
	/**
	 * 根据健删除内容，返回被删除的内容(如果不存在则返回null)
	 * @param key
	 * @return
	 */
	def romove(index){
		return jsonList.remove(index)
	}
	/**
	 * 判断是否为空
	 */
	def isEmpty(){
		return jsonList.isEmpty()
	}
	/**
	 * 返回数组的大小
	 */
	def size(){
		return jsonList.size()
	}
	
	static void main( args) {
		long start = System.currentTimeMillis()
		JsonArray jsonArray = JsonArray.toJsonArray("""[{"status":0,"hq":[["2013-12-31","80.00","79.00","-1.22","-1.52%","77.20","80.00","20104","15832.18","2.77%"],["2013-12-30","77.40","80.22","2.15","2.75%","77.30","80.29","28297","22380.80","3.89%"],["2013-12-27","79.00","78.07","0.28","0.36%","76.80","80.24","22412","17508.67","3.08%"],["2013-12-26","77.00","77.79","-0.18","-0.23%","76.40","79.00","23058","18014.32","3.17%"],["2013-12-25","77.09","77.97","2.17","2.86%","75.25","78.60","23319","17991.71","3.21%"],["2013-12-24","73.40","75.80","2.40","3.27%","73.30","76.15","18826","14152.43","2.59%"],["2013-12-23","71.70","73.40","2.39","3.37%","71.70","75.32","14242","10511.32","1.96%"],["2013-12-20","70.10","71.01","0.77","1.10%","69.56","71.59","5999","4259.81","0.83%"],["2013-12-19","69.32","70.24","1.04","1.50%","69.32","71.28","4696","3310.68","0.65%"],["2013-12-18","70.89","69.20","-1.35","-1.91%","69.00","71.25","6933","4855.72","0.95%"],["2013-12-17","71.33","70.55","-1.45","-2.01%","70.50","72.00","5145","3643.53","0.71%"],["2013-12-16","70.81","72.00","0.41","0.57%","69.40","72.30","7730","5445.85","1.06%"],["2013-12-13","72.33","71.59","-0.91","-1.26%","71.18","73.30","5605","4035.30","0.77%"],["2013-12-12","70.13","72.50","2.12","3.01%","70.09","73.58","8650","6267.98","1.19%"],["2013-12-11","70.48","70.38","0.15","0.21%","69.90","71.17","5073","3580.44","0.70%"],["2013-12-10","71.39","70.23","-0.77","-1.08%","69.28","71.56","7618","5344.43","1.05%"],["2013-12-09","68.90","71.00","3.12","4.60%","68.90","71.45","10147","7185.18","1.40%"],["2013-12-06","66.50","67.88","1.09","1.63%","66.30","69.81","16774","11511.67","2.31%"],["2013-12-05","71.56","66.79","-5.73","-7.90%","66.79","71.56","30897","21155.30","4.25%"],["2013-12-04","75.00","72.52","-2.50","-3.33%","72.50","76.47","17959","13363.15","2.47%"],["2013-12-03","72.84","75.02","1.07","1.45%","71.50","75.70","13666","10068.46","1.88%"],["2013-12-02","75.00","73.95","-6.30","-7.85%","73.05","77.80","27019","20366.21","3.72%"],["2013-11-29","77.15","80.25","3.24","4.21%","77.15","80.29","23052","18230.80","3.17%"],["2013-11-28","76.92","77.01","0.12","0.16%","76.20","77.88","11313","8701.04","1.56%"],["2013-11-27","75.80","76.89","1.09","1.44%","75.00","77.36","11879","9113.84","1.63%"],["2013-11-26","73.97","75.80","1.74","2.35%","73.60","76.84","11613","8833.86","1.60%"],["2013-11-25","72.58","74.06","1.58","2.18%","72.01","75.20","6962","5172.43","0.96%"],["2013-11-22","74.20","72.48","-1.31","-1.78%","72.17","74.20","8091","5892.31","1.11%"],["2013-11-21","73.48","73.79","0.33","0.45%","73.06","74.38","8277","6112.08","1.14%"],["2013-11-20","74.41","73.46","-1.24","-1.66%","72.80","75.70","11473","8447.43","1.58%"],["2013-11-19","77.88","74.70","-2.67","-3.45%","74.63","78.68","14225","10848.52","1.96%"],["2013-11-18","75.88","77.37","1.37","1.80%","75.60","78.47","13582","10576.16","1.87%"],["2013-11-15","74.80","76.00","0.90","1.20%","74.33","77.00","10702","8148.74","1.47%"],["2013-11-14","72.20","75.10","1.89","2.58%","72.20","75.10","7409","5486.00","1.02%"],["2013-11-13","73.43","73.21","-0.99","-1.33%","73.05","75.40","5786","4282.69","0.80%"],["2013-11-12","73.88","74.20","0.11","0.15%","72.80","75.29","9572","7108.33","1.32%"],["2013-11-11","69.80","74.09","3.71","5.27%","68.86","74.48","14308","10317.33","1.97%"],["2013-11-08","74.39","70.38","-4.18","-5.61%","70.15","74.39","14099","10130.95","1.94%"],["2013-11-07","76.25","74.56","-1.46","-1.92%","73.61","76.25","11878","8885.83","1.63%"],["2013-11-06","74.06","76.02","1.77","2.38%","73.81","78.23","23993","18441.04","3.30%"],["2013-11-05","74.26","74.25","-0.01","-0.01%","73.00","74.68","12571","9286.17","1.73%"],["2013-11-04","71.55","74.26","1.96","2.71%","71.55","74.60","14625","10826.91","2.01%"],["2013-11-01","72.81","72.30","0.00","0.00%","68.80","73.00","15301","10829.79","2.11%"],["2013-10-31","75.00","72.30","-2.40","-3.21%","72.00","75.00","9732","7120.03","1.34%"],["2013-10-30","72.50","74.70","2.20","3.03%","72.50","75.30","27018","20050.72","3.72%"],["2013-10-29","69.00","72.50","3.00","4.32%","66.60","72.50","31964","22321.72","4.40%"],["2013-10-28","64.80","69.50","4.70","7.25%","64.80","70.60","25904","17735.25","3.56%"],["2013-10-25","65.49","64.80","0.63","0.98%","64.34","65.95","15895","10343.19","2.19%"],["2013-10-24","64.70","64.17","0.06","0.09%","62.90","66.28","17672","11395.10","2.43%"],["2013-10-23","67.45","64.11","-2.99","-4.46%","62.43","68.30","23871","15558.44","3.28%"],["2013-10-22","70.24","67.10","-2.86","-4.09%","67.01","72.31","16590","11474.75","2.28%"],["2013-10-21","68.80","69.96","1.76","2.58%","68.80","71.00","13056","9145.02","1.80%"],["2013-10-18","67.52","68.20","0.21","0.31%","67.51","68.98","10884","7415.44","1.50%"],["2013-10-17","71.13","67.99","-2.89","-4.08%","66.30","71.53","22863","15514.62","3.15%"],["2013-10-16","74.80","70.88","-4.47","-5.93%","70.05","75.35","11197","8061.15","1.54%"],["2013-10-15","73.97","75.35","1.54","2.09%","73.30","75.80","9766","7266.25","1.34%"],["2013-10-14","76.07","73.81","-2.90","-3.78%","73.18","76.07","13027","9650.93","1.79%"],["2013-10-11","79.00","76.71","-1.46","-1.87%","76.66","79.99","11296","8756.40","1.55%"],["2013-10-10","76.03","78.17","1.50","1.96%","76.00","81.33","18383","14585.97","2.53%"],["2013-10-09","77.15","76.67","-1.07","-1.38%","75.01","77.73","10762","8253.42","1.48%"],["2013-10-08","77.66","77.74","0.15","0.19%","76.60","78.90","9946","7698.53","1.37%"],["2013-09-30","77.00","77.59","0.14","0.18%","75.70","78.32","8238","6334.50","1.13%"],["2013-09-27","77.58","77.45","-0.05","-0.06%","76.38","78.75","7958","6174.12","1.09%"],["2013-09-26","79.28","77.50","-2.51","-3.14%","76.78","80.20","18383","14350.85","2.53%"],["2013-09-25","78.14","80.01","1.52","1.94%","76.60","80.30","24045","19021.60","3.31%"],["2013-09-24","74.00","78.49","5.12","6.98%","74.00","78.74","35848","27649.04","4.93%"],["2013-09-23","70.10","73.37","3.42","4.89%","70.10","74.38","26485","19355.11","3.64%"],["2013-09-18","70.37","69.95","-0.92","-1.30%","68.90","71.50","14636","10255.14","2.01%"],["2013-09-17","67.98","70.87","2.27","3.31%","67.98","71.33","24872","17514.02","3.42%"],["2013-09-16","66.67","68.60","1.94","2.91%","66.67","70.20","24632","17006.75","3.39%"],["2013-09-13","66.83","66.66","0.33","0.50%","66.01","67.00","6875","4566.71","0.95%"],["2013-09-12","66.01","66.33","-0.34","-0.51%","66.00","67.98","8847","5900.43","1.22%"],["2013-09-11","68.60","66.67","-2.45","-3.54%","66.43","68.80","15200","10252.85","2.09%"],["2013-09-10","68.80","69.12","0.22","0.32%","67.52","69.98","15403","10632.24","2.12%"],["2013-09-09","68.48","68.90","0.51","0.75%","66.26","69.15","22911","15515.45","3.15%"],["2013-09-06","66.60","68.39","1.67","2.50%","66.10","68.99","21549","14648.46","2.97%"],["2013-09-05","66.88","66.72","-0.16","-0.24%","65.20","67.00","23328","15410.03","3.21%"],["2013-09-04","67.70","66.88","-1.12","-1.65%","66.40","68.17","19859","13305.91","2.73%"],["2013-09-03","68.40","68.00","0.00","0.00%","67.51","69.49","14725","10083.51","2.03%"],["2013-09-02","68.00","68.00","-0.52","-0.76%","66.60","68.88","13400","9078.25","1.84%"],["2013-08-30","71.76","68.52","-3.78","-5.23%","68.52","73.00","19037","13535.63","2.62%"],["2013-08-29","70.17","72.30","2.13","3.04%","69.08","73.30","27122","19280.45","3.73%"],["2013-08-28","69.00","70.17","1.12","1.62%","66.69","70.55","38002","26041.09","5.23%"],["2013-08-27","69.26","69.05","-0.20","-0.29%","68.20","69.99","13939","9581.31","1.92%"],["2013-08-26","69.94","69.25","-0.75","-1.07%","68.69","71.38","21386","14860.51","2.94%"],["2013-08-23","67.50","70.00","2.75","4.09%","67.46","71.90","42114","29403.57","5.79%"],["2013-08-22","66.85","67.25","0.46","0.69%","66.06","67.25","19085","12740.48","2.63%"],["2013-08-21","68.63","66.79","-2.27","-3.29%","65.81","68.64","32875","22024.41","4.52%"],["2013-08-20","68.70","69.06","0.72","1.05%","67.02","69.10","24113","16370.41","3.32%"],["2013-08-19","67.70","68.34","-0.06","-0.09%","67.28","70.00","22564","15417.84","3.10%"],["2013-08-16","69.00","68.40","-1.10","-1.58%","68.11","72.00","18832","13194.42","2.59%"],["2013-08-15","73.97","69.50","-4.85","-6.52%","69.50","73.98","23902","17073.76","3.29%"],["2013-08-14","75.74","74.35","-1.05","-1.39%","72.95","75.74","19628","14520.78","2.70%"],["2013-08-13","76.03","75.40","-1.40","-1.82%","74.99","76.70","16159","12234.32","2.22%"],["2013-08-12","74.70","76.80","0.73","0.96%","74.13","77.18","33881","25693.64","4.66%"],["2013-08-09","72.60","76.07","2.87","3.92%","72.60","76.57","41354","31031.90","5.69%"],["2013-08-08","70.88","73.20","3.52","5.05%","69.60","74.18","43947","31653.49","6.05%"],["2013-08-07","71.00","69.68","-2.02","-2.82%","68.85","72.68","31891","22368.88","4.39%"],["2013-08-06","68.50","71.70","2.24","3.22%","67.90","71.96","40400","28322.44","5.56%"],["2013-08-05","69.60","69.46","-0.93","-1.32%","66.08","69.72","54943","37453.99","7.56%"],["2013-08-02","76.00","70.39","-5.18","-6.85%","70.06","76.00","60526","43723.90","8.33%"],["2013-08-01","72.10","75.57","3.37","4.67%","71.15","75.85","33541","24903.55","4.62%"],["2013-07-31","70.00","72.20","3.00","4.34%","69.70","72.97","30317","21656.10","4.17%"],["2013-07-30","69.60","69.20","0.60","0.87%","67.33","70.40","38125","26313.40","5.25%"],["2013-07-29","72.89","68.60","-4.90","-6.67%","67.20","72.98","87412","61107.43","12.03%"],["2013-07-26","79.09","73.50","-7.73","-9.52%","73.11","79.09","76017","57131.78","10.46%"],["2013-07-25","87.99","81.23","-6.57","-7.48%","80.57","88.58","38903","32302.63","5.35%"],["2013-07-24","87.80","87.80","0.24","0.27%","87.10","89.97","18989","16781.88","2.61%"],["2013-07-23","86.98","87.56","0.78","0.90%","86.00","89.00","19539","17057.85","2.69%"],["2013-07-22","85.40","86.78","0.33","0.38%","84.56","87.39","14153","12163.91","1.95%"],["2013-07-19","87.10","86.45","-0.53","-0.61%","85.99","90.50","15513","13640.55","2.13%"],["2013-07-18","87.86","86.98","-1.62","-1.83%","86.86","88.99","10933","9580.41","1.50%"],["2013-07-17","90.68","88.60","-1.68","-1.86%","87.80","95.10","15505","14084.62","2.13%"],["2013-07-16","90.25","90.28","-0.72","-0.79%","88.51","91.50","11731","10567.46","1.61%"],["2013-07-15","88.28","91.00","3.48","3.98%","85.01","91.30","28691","25290.40","3.95%"],["2013-07-12","85.96","87.52","1.17","1.35%","85.02","93.33","28060","25176.15","3.86%"],["2013-07-11","85.31","86.35","-0.65","-0.75%","84.01","88.50","18548","15977.67","2.55%"],["2013-07-10","89.00","87.00","-1.09","-1.24%","84.00","89.02","26310","22689.96","3.62%"],["2013-07-09","82.26","88.09","5.66","6.87%","81.99","88.89","18083","15486.10","2.49%"],["2013-07-08","84.20","82.43","-3.87","-4.48%","82.00","86.90","16713","14006.86","2.30%"],["2013-07-05","88.40","86.30","-1.85","-2.10%","85.70","91.00","13531","11926.14","1.86%"],["2013-07-04","89.63","88.15","-1.83","-2.03%","87.50","90.89","14603","13020.91","2.01%"],["2013-07-03","88.99","89.98","0.27","0.30%","86.88","92.30","23787","21238.12","3.27%"],["2013-07-02","82.80","89.71","6.83","8.24%","82.00","90.00","27009","23282.58","3.72%"],["2013-07-01","78.56","82.88","2.88","3.60%","76.45","82.99","22431","18160.40","3.09%"],["2013-06-28","80.08","80.00","-1.70","-2.08%","78.05","84.57","17087","13821.26","2.35%"],["2013-06-27","86.00","81.70","-4.32","-5.02%","81.00","87.88","30540","25825.76","4.20%"],["2013-06-26","78.98","86.02","7.22","9.16%","77.80","86.68","45087","36619.18","6.20%"],["2013-06-25","76.80","78.80","0.51","0.65%","70.60","80.80","57376","43416.08","7.89%"],["2013-06-24","87.03","78.29","-8.70","-10.00%","78.29","87.03","27147","22125.21","3.74%"],["2013-06-21","85.60","86.99","-1.91","-2.15%","83.00","88.80","18731","16160.77","2.58%"],["2013-06-20","92.36","88.90","-3.47","-3.76%","87.77","93.00","19416","17657.52","2.67%"],["2013-06-19","89.00","92.37","1.99","2.20%","88.16","92.38","21186","19124.61","2.92%"],["2013-06-18","85.58","90.38","4.40","5.12%","83.53","90.98","25682","22460.22","3.53%"],["2013-06-17","89.00","85.98","-2.62","-2.96%","85.50","89.94","21315","18672.43","2.93%"],["2013-06-14","86.15","88.60","2.10","2.43%","84.78","89.13","18428","16223.17","2.54%"],["2013-06-13","84.95","86.50","0.60","0.70%","80.00","86.50","19812","16583.98","2.73%"],["2013-06-07","82.98","85.90","3.28","3.97%","82.98","86.85","21876","18686.99","3.01%"],["2013-06-06","82.00","82.62","-0.77","-0.92%","80.50","83.97","17793","14697.60","2.45%"],["2013-06-05","79.45","83.39","4.53","5.74%","79.45","84.18","28887","23858.63","3.97%"],["2013-06-04","79.44","78.86","-1.14","-1.43%","78.20","81.16","23013","18289.30","3.17%"],["2013-06-03","84.00","80.00","-3.49","-4.18%","78.15","84.00","22219","17913.47","3.06%"],["2013-05-31","83.12","83.49","0.04","0.05%","82.38","84.58","15174","12675.45","2.09%"],["2013-05-30","86.45","83.45","-3.19","-3.68%","82.50","86.45","24175","20272.47","3.33%"],["2013-05-29","85.14","86.64","1.91","2.25%","83.33","87.85","17571","15065.32","2.42%"],["2013-05-24","79.89","87.07","7.92","10.01%","79.70","87.07","26859","22631.64","3.70%"],["2013-05-23","75.58","79.25","3.67","4.86%","75.02","82.20","23633","18688.18","3.25%"],["2013-05-22","74.60","75.58","0.88","1.18%","73.00","75.90","17934","13419.38","2.47%"],["2013-05-21","73.00","74.70","1.20","1.63%","72.45","75.10","14082","10401.38","1.94%"],["2013-05-20","72.00","73.50","1.30","1.80%","71.00","75.49","21344","15728.59","2.94%"],["2013-05-17","71.80","72.20","0.19","0.26%","71.16","74.88","13903","10094.01","1.91%"],["2013-05-16","73.56","72.01","-1.56","-2.12%","71.80","75.18","21526","15754.12","2.96%"],["2013-05-15","71.35","73.57","3.41","4.86%","70.33","73.60","13505","9764.91","1.86%"],["2013-05-14","71.25","70.16","-0.83","-1.17%","68.72","71.56","11676","8148.53","1.61%"],["2013-05-13","71.49","70.99","-0.19","-0.27%","70.18","72.29","9684","6883.23","1.33%"],["2013-05-10","67.10","71.18","3.28","4.83%","67.10","71.41","26930","18907.19","3.71%"],["2013-05-09","69.20","67.90","-1.09","-1.58%","66.05","69.90","21344","14412.52","2.94%"],["2013-05-08","67.69","68.99","1.29","1.91%","66.88","69.00","12891","8788.45","1.77%"],["2013-05-07","68.06","67.70","-0.78","-1.14%","66.80","69.43","11502","7808.81","1.58%"],["2013-05-06","68.40","68.48","-0.10","-0.15%","67.10","69.95","16473","11307.26","2.27%"],["2013-05-03","66.01","68.58","2.62","3.97%","65.61","69.60","18437","12456.41","2.54%"],["2013-05-02","60.45","65.96","5.51","9.11%","60.42","66.11","20204","12911.26","2.78%"],["2013-04-26","60.70","60.45","-0.81","-1.32%","60.01","62.48","17545","10684.97","2.41%"],["2013-04-25","64.90","61.26","-3.69","-5.68%","61.00","66.77","27958","17830.73","3.85%"],["2013-04-24","64.49","64.95","0.48","0.74%","63.72","68.39","23143","15380.57","3.18%"],["2013-04-23","64.98","64.47","-0.53","-0.82%","61.90","65.00","21048","13421.21","2.90%"],["2013-04-22","60.69","65.00","4.32","7.12%","59.90","65.51","19367","12249.25","2.66%"],["2013-04-19","57.50","60.68","3.18","5.53%","57.50","61.62","24599","14761.03","3.38%"],["2013-04-18","57.25","57.50","-0.29","-0.50%","56.80","58.35","11804","6774.19","1.62%"],["2013-04-17","54.85","57.79","2.85","5.19%","54.56","57.79","12002","6784.24","1.65%"],["2013-04-16","54.00","54.94","0.44","0.81%","53.37","55.90","10681","5801.35","1.47%"],["2013-04-15","54.97","54.50","-1.02","-1.84%","53.60","55.98","10168","5529.97","1.40%"],["2013-04-12","56.00","55.52","-0.47","-0.84%","55.34","57.90","12575","7147.39","1.73%"],["2013-04-11","55.06","55.99","0.98","1.78%","53.80","56.44","14580","7985.02","2.01%"],["2013-04-10","57.43","55.01","-2.46","-4.28%","54.72","57.88","18091","10031.86","2.49%"],["2013-04-09","57.28","57.47","0.27","0.47%","56.10","58.40","13597","7793.28","1.87%"],["2013-04-08","52.49","57.20","3.83","7.18%","51.60","58.71","35017","19694.99","4.82%"],["2013-04-03","54.20","53.37","-1.09","-2.00%","51.55","55.50","29170","15403.72","4.01%"],["2013-04-02","57.28","54.46","-3.54","-6.10%","53.75","57.88","26829","14887.40","3.69%"],["2013-04-01","57.85","58.00","0.01","0.02%","55.98","60.58","30197","17691.46","4.15%"],["2013-03-29","53.60","57.99","3.55","6.52%","53.60","57.99","25505","14516.92","3.51%"],["2013-03-28","54.90","54.44","-0.27","-0.49%","51.80","57.27","29170","15992.14","4.01%"],["2013-03-27","52.36","54.71","2.42","4.63%","51.78","54.98","10626","5695.55","1.46%"],["2013-03-26","51.95","52.29","0.07","0.13%","51.50","52.55","9055","4694.15","1.25%"],["2013-03-25","50.67","52.22","1.76","3.49%","50.67","52.22","12370","6392.70","1.70%"],["2013-03-22","50.44","50.46","0.01","0.02%","50.12","51.50","12100","6156.59","1.66%"],["2013-03-21","48.95","50.45","1.55","3.17%","48.70","50.45","18438","9146.29","2.54%"],["2013-03-20","47.25","48.90","1.58","3.34%","47.01","48.96","9979","4851.92","1.37%"],["2013-03-19","48.88","47.32","-1.56","-3.19%","46.80","48.95","15056","7195.42","2.07%"],["2013-03-18","47.70","48.88","0.88","1.83%","47.10","48.95","15474","7511.88","2.13%"],["2013-03-15","47.30","48.00","1.03","2.19%","46.64","48.89","15224","7278.90","2.09%"],["2013-03-14","45.69","46.97","0.88","1.91%","45.21","47.34","11494","5361.86","1.58%"],["2013-03-13","46.04","46.09","-0.27","-0.58%","44.27","47.10","13090","5984.32","1.80%"],["2013-03-12","45.99","46.36","0.36","0.78%","45.01","47.74","14173","6555.37","1.95%"],["2013-03-11","44.70","46.00","0.91","2.02%","43.01","46.58","14092","6457.62","1.94%"],["2013-03-08","47.25","45.09","-2.26","-4.77%","44.77","47.29","18868","8689.28","2.60%"],["2013-03-07","47.97","47.35","-1.14","-2.35%","46.51","48.69","11381","5390.45","1.57%"],["2013-03-06","48.00","48.49","0.21","0.43%","47.36","49.95","10180","4944.78","1.40%"],["2013-03-05","44.80","48.28","2.89","6.37%","44.80","48.28","10550","4973.03","1.45%"],["2013-03-04","45.65","45.39","-0.20","-0.44%","44.68","47.18","13570","6197.07","1.87%"],["2013-03-01","43.98","45.59","1.72","3.92%","43.59","45.79","12935","5859.98","1.78%"],["2013-02-28","43.47","43.87","0.57","1.32%","42.69","44.28","4838","2103.89","0.67%"],["2013-02-27","44.40","43.30","-1.30","-2.91%","42.60","44.88","9294","4041.28","1.28%"],["2013-02-26","43.01","44.60","1.55","3.60%","42.52","44.98","18381","8156.70","2.53%"],["2013-02-25","42.40","43.05","0.35","0.82%","42.40","43.44","5281","2272.86","0.73%"],["2013-02-22","41.97","42.70","0.64","1.52%","41.34","44.00","18122","7847.14","2.49%"],["2013-02-21","42.99","42.06","-0.93","-2.16%","40.50","43.12","20675","8633.74","2.84%"],["2013-02-20","40.30","42.99","2.16","5.29%","40.00","43.05","24432","10353.62","3.36%"],["2013-02-19","40.81","40.83","-0.17","-0.41%","39.68","41.10","9338","3786.23","1.28%"],["2013-02-18","40.69","41.00","0.32","0.79%","40.16","41.30","14036","5736.69","1.93%"],["2013-02-08","39.71","40.68","0.89","2.24%","39.51","41.29","16508","6667.94","2.27%"],["2013-02-07","37.75","39.79","2.09","5.54%","37.70","39.85","24113","9477.26","3.32%"],["2013-02-06","37.42","37.70","0.30","0.80%","37.18","38.15","10796","4072.56","1.56%"],["2013-02-05","37.32","37.40","0.10","0.27%","37.10","38.12","12291","4610.31","1.78%"],["2013-02-04","38.71","37.30","-1.41","-3.64%","37.01","39.00","15272","5710.10","2.21%"],["2013-02-01","37.55","38.71","1.16","3.09%","37.10","38.89","12554","4821.82","1.81%"],["2013-01-31","37.91","37.55","-0.26","-0.69%","37.02","38.21","8477","3188.46","1.22%"],["2013-01-30","38.79","37.81","-0.99","-2.55%","37.33","38.98","8949","3394.94","1.29%"],["2013-01-29","38.70","38.80","-0.20","-0.51%","38.30","39.08","7848","3049.82","1.13%"],["2013-01-28","36.87","39.00","2.20","5.98%","36.76","39.00","31226","11727.09","4.51%"],["2013-01-25","35.49","36.80","1.25","3.52%","35.49","37.38","21242","7816.07","3.07%"],["2013-01-24","37.77","35.55","-2.55","-6.69%","34.96","38.38","20021","7279.54","2.89%"],["2013-01-23","38.01","38.10","0.22","0.58%","37.41","38.42","6882","2608.64","0.99%"],["2013-01-22","39.34","37.88","-1.47","-3.74%","37.37","39.48","14595","5639.13","2.11%"],["2013-01-21","39.29","39.35","0.20","0.51%","38.89","39.55","12065","4724.69","1.74%"],["2013-01-18","38.10","39.15","1.23","3.24%","37.72","39.45","11883","4592.53","1.72%"],["2013-01-17","37.32","37.92","0.55","1.47%","36.92","38.10","17956","6786.79","2.59%"],["2013-01-16","37.37","37.37","0.00","0.00%","36.60","37.55","13592","5046.11","1.96%"],["2013-01-15","36.98","37.37","0.30","0.81%","36.73","37.63","20752","7725.40","3.00%"],["2013-01-14","35.00","37.07","2.07","5.91%","34.99","37.17","29247","10701.99","4.23%"],["2013-01-11","34.53","35.00","0.00","0.00%","34.49","35.41","11640","4080.67","1.68%"],["2013-01-10","35.25","35.00","-0.25","-0.71%","34.45","35.74","15209","5339.60","2.20%"],["2013-01-09","35.00","35.25","-0.15","-0.42%","34.90","35.84","11303","4006.04","1.63%"],["2013-01-08","34.45","35.40","1.96","5.86%","34.45","35.65","30639","10745.12","4.43%"],["2013-01-07","32.85","33.44","0.59","1.80%","32.34","33.45","8522","2812.23","1.23%"],["2013-01-04","33.97","32.85","-1.15","-3.38%","32.32","34.27","14505","4799.05","2.10%"],["2012-12-31","34.19","34.00","0.20","0.59%","33.12","34.30","16195","5469.70","2.34%"],["2012-12-28","33.35","33.80","0.45","1.35%","33.19","33.99","9612","3225.82","1.39%"],["2012-12-27","33.82","33.35","-0.60","-1.77%","33.15","34.20","11340","3793.93","1.64%"],["2012-12-26","33.59","33.95","0.61","1.83%","33.10","34.27","10864","3673.01","1.57%"],["2012-12-25","32.60","33.34","0.37","1.12%","32.60","33.92","10194","3426.44","1.47%"],["2012-12-24","33.45","32.97","-0.28","-0.84%","32.60","33.65","7519","2495.69","1.09%"],["2012-12-21","32.37","33.25","0.88","2.72%","32.26","33.80","12225","4068.25","1.77%"],["2012-12-20","32.23","32.37","0.02","0.06%","31.84","32.85","7120","2311.55","1.03%"],["2012-12-19","31.40","32.35","0.95","3.03%","31.10","32.68","9260","2946.78","1.34%"],["2012-12-18","31.60","31.40","-0.32","-1.01%","31.20","31.99","4380","1380.76","0.63%"],["2012-12-17","31.31","31.72","0.42","1.34%","31.05","31.77","10655","3356.76","1.54%"],["2012-12-14","30.40","31.30","0.89","2.93%","30.40","31.65","12821","4001.43","1.85%"],["2012-12-13","30.94","30.41","-0.89","-2.84%","30.41","31.19","3948","1212.88","0.57%"],["2012-12-12","31.78","31.30","-0.21","-0.67%","30.61","31.78","6450","2010.06","0.93%"],["2012-12-11","30.91","31.51","0.60","1.94%","30.51","31.73","9207","2893.91","1.33%"],["2012-12-10","30.85","30.91","0.06","0.19%","30.40","30.95","7884","2415.96","1.14%"],["2012-12-07","30.80","30.85","0.25","0.82%","30.21","30.97","7593","2328.34","1.10%"],["2012-12-06","30.00","30.60","0.59","1.97%","29.74","30.68","8528","2574.86","1.23%"],["2012-12-05","28.49","30.01","1.52","5.34%","28.47","30.58","20670","6160.47","2.99%"],["2012-12-04","28.55","28.49","-0.01","-0.04%","27.60","29.01","10830","3049.48","1.56%"],["2012-12-03","28.32","28.50","0.18","0.64%","28.30","29.00","10224","2939.42","1.48%"],["2012-11-30","28.05","28.32","0.29","1.03%","27.91","28.37","2574","725.08","0.37%"],["2012-11-29","27.65","28.03","0.34","1.23%","27.65","28.47","6596","1853.69","0.95%"],["2012-11-28","28.16","27.69","-0.49","-1.74%","27.60","28.29","10270","2878.11","1.48%"],["2012-11-27","28.50","28.18","-0.32","-1.12%","28.12","28.80","13264","3760.95","1.92%"],["2012-11-26","29.97","28.50","-1.53","-5.09%","28.39","30.00","14958","4338.34","2.16%"],["2012-11-23","30.97","30.03","-0.97","-3.13%","29.99","30.97","17091","5177.65","2.47%"],["2012-11-22","31.13","31.00","-0.33","-1.05%","31.00","31.60","2183","682.35","0.32%"],["2012-11-21","31.48","31.33","0.00","0.00%","31.22","32.04","11264","3552.43","1.63%"],["2012-11-20","30.90","31.33","0.43","1.39%","30.63","31.76","11887","3740.28","1.72%"],["2012-11-19","30.25","30.90","0.20","0.65%","30.25","31.19","8748","2684.39","1.26%"],["2012-11-16","31.41","30.70","-0.88","-2.79%","30.12","31.72","9643","2946.23","1.39%"],["2012-11-15","31.69","31.58","-0.17","-0.54%","31.52","32.34","15143","4839.90","2.19%"],["2012-11-14","30.90","31.75","0.87","2.82%","30.61","31.75","10173","3194.38","1.47%"],["2012-11-13","30.81","30.88","0.18","0.59%","30.32","30.97","7269","2233.29","1.05%"],["2012-11-12","30.88","30.70","-0.17","-0.55%","29.75","31.30","13211","4017.17","1.91%"],["2012-11-09","31.61","30.87","-1.01","-3.17%","30.80","31.96","14519","4521.02","2.10%"],["2012-11-08","31.88","31.88","-0.41","-1.27%","31.63","32.10","7264","2314.55","1.05%"],["2012-11-07","32.00","32.29","0.08","0.25%","31.85","32.47","10054","3228.06","1.45%"],["2012-11-06","31.95","32.21","0.45","1.42%","31.03","32.43","24496","7761.53","3.54%"],["2012-11-05","33.47","31.76","-1.99","-5.90%","31.70","33.68","27001","8708.50","3.90%"],["2012-11-02","33.34","33.75","-0.24","-0.71%","33.00","33.89","29340","9797.06","4.24%"],["2012-11-01","34.95","33.99","-1.54","-4.33%","33.03","35.80","79193","27169.21","11.44%"],["2012-10-31","33.85","35.53","1.70","5.03%","33.56","35.85","21215","7384.34","3.07%"],["2012-10-30","33.32","33.83","0.43","1.29%","33.31","33.96","8156","2750.73","1.18%"],["2012-10-29","33.65","33.40","-0.23","-0.68%","32.83","33.88","6226","2078.70","0.90%"],["2012-10-26","32.60","33.63","0.93","2.84%","32.10","33.63","11147","3659.48","1.61%"],["2012-10-25","32.66","32.70","0.10","0.31%","32.34","33.18","7400","2430.79","1.07%"],["2012-10-24","33.00","32.60","-0.69","-2.07%","32.20","33.36","10509","3437.72","1.52%"],["2012-10-23","34.19","33.29","-1.01","-2.94%","32.90","34.48","14318","4806.02","2.07%"],["2012-10-22","33.80","34.30","0.26","0.76%","33.61","34.40","10599","3613.73","1.53%"],["2012-10-19","33.61","34.04","0.27","0.80%","33.50","34.30","14049","4774.91","2.03%"],["2012-10-18","33.00","33.77","0.77","2.33%","32.76","33.84","18586","6220.56","2.69%"],["2012-10-17","32.89","33.00","0.09","0.27%","32.20","33.25","17704","5774.64","2.56%"],["2012-10-16","31.60","32.91","1.21","3.82%","31.44","33.10","16579","5407.79","2.40%"],["2012-10-15","31.68","31.70","-0.02","-0.06%","31.38","32.48","12629","4029.07","1.82%"],["2012-10-12","32.16","31.72","-0.28","-0.88%","31.59","32.46","8269","2639.60","1.19%"],["2012-10-11","32.50","32.00","-0.50","-1.54%","31.72","32.64","12593","4059.79","1.82%"],["2012-10-10","31.83","32.50","0.87","2.75%","31.20","32.87","21923","7094.49","3.17%"],["2012-10-09","30.39","31.63","1.74","5.82%","30.39","31.75","22106","6926.68","3.19%"],["2012-10-08","30.69","29.89","-0.81","-2.64%","29.86","31.28","27421","8279.03","3.96%"]],"code":"cn_300228","stat":["累计:","2012-10-08至2013-12-31","48.30","157.33%",27.6,95.1,5329760,3329471.3,"741.48%"]}]
""")
		println jsonArray
		long end = System.currentTimeMillis();
		println "运行时间：${end-start}毫秒"
	}
	/**
	 * 将字符串、数组、非Map集合转化为jsonArray对象
	 * @param object
	 * @return
	 */
	final static toJsonArray(object) {
		JsonArray jsonArray = null
		if(object.getClass() == String.class){
			/**
			 * 方法一：非递归实现json字符串格式转化
			 */
			//先检查是否满足json格式要求
//			if(!ValidateJson.validate(object)){//不满足要求
//				return null//返回空
//			}
//			String jsonStr = object
//			if(! jsonStr.startsWith("[") || ! jsonStr.endsWith("]")){
//				throw new IllegalArgumentException("字符串请以[]开头结尾")
//			}
//			//浅层检测双引号合法性
////			JsonTool.checkIsDoubleQuoteLegal(jsonStr)
//			def lrMArray = JsonTool.posBrackerOfString(jsonStr,"[","]")//获取json字符串中所有中括号的位置
//			def lrBArray = JsonTool.posBrackerOfString(jsonStr,"{","}")//获取json字符串中所有大括号的位置
//			println "中括号:${lrMArray}"
//			println "大括号:${lrBArray}"
//			
//			//开始根据括号来构建jsonObject
//			//主要实现原理，根据lrBArray的特定，先存放的括号必定是最里面的，但后面存放的括号不一定包括前一个括号里面的内容
//			//故这里再次模拟一个栈来一次保存每个括号转换成的jsonObject对象，然后再后续进行序号比较
//			//若后面括号的起始端序号大于前面括号的起始端信号，说明是包含关系，则在转换后面括号为对象时，通过序号相等将前面括号对象作为后面括号对象的一员，
//			//注意此时应删除已应用的对象，具体见fromJsonObjectPart函数
//			jsonArray =  JsonTool.getJsonByMergeArray(jsonStr,lrMArray, lrBArray)
			/**
			 * 方法二：通过递归实现对json格式字符串的转化，同时进行了校验，算法效率较高
			 */
			jsonArray = StringToJson.jsonStringToObjectOrArray(object, false)
		}else if (object instanceof Map ){
			throw new IllegalArgumentException( "放入类型为Map的实现类，请用jsonObject转化")
			return null
		}else{//普通数组或集合类型。直接调用递归函数
			jsonArray = recusiveToJsonArray(object)
		}
		jsonArray
	}
	/**
	 * 非字符串Object递归处理部分，涵盖数组类型、集合类型的处理
	 * @param object
	 * @return
	 */
	private final static recusiveToJsonArray(object){
		def jsonList = []
		if(object.getClass().isArray() || object instanceof Collection ){
			for( i in 0..object.size() - 1){
				jsonList << JsonObject.recusiveToJsonObject(object[i])//将该对象转换为jsonObject放入
			}
		}else{//对象类型
			jsonList << JsonObject.recusiveToJsonObject(object)
		}
		 new JsonArray(jsonList)
	}
	
	
	/**
	 * 根据类名转化为list、Set或数组等类型
	 * @param clazz 为 null表明是数组类型
	 * @param jsonArray
	 * @return 
	 */
	final static toArray(Class clazz,JsonArray jsonArray){
		if(clazz == null){
				return jsonArray.getJsonList().toArray();
		}
		def instance
		try {
			instance = clazz.newInstance()
		} catch (Exception e) {
			println "不能初始化该类的实例" + e.printStackTrace()
		}
		if(instance instanceof Collection){
			return jsonArray.getJsonList()
		}else{
			throw new IllegalArgumentException("传入类型不是数组类型或集合类型")
			return null
		}
	}
	/**
	 * 重写tostring方法，用json格式序列化jsonArray对象
	 */
	@Override
	def  String toString() {
		StringBuffer str = JsonTool.arrayToString(this, new StringBuffer());
		String jsonStr = str.substring(0,str.length() - 1);
		return jsonStr;
	}
	
}
